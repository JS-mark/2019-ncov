{"version":3,"sources":["../node_modules/echarts/map/js/province sync /^/.//.*$","Map.js","Tag.js","App.js","serviceWorker.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Map","province","data","require","pinyin","option","visualMap","show","type","min","max","align","top","right","left","inRange","color","pieces","orient","showLabel","itemWidth","itemHeight","textStyle","fontSize","series","name","silent","label","position","mapType","zoom","roam","showLegendSymbol","emphasis","rippleEffect","brushType","scale","period","lazyUpdate","Tag","children","number","className","provincesByName","keyBy","provinces","App","useState","setProvince","cities","city","fullCityName","value","confirmedCount","p","provinceShortName","area","overall","all","dayjs","modifyTime","format","suspectedCount","deadCount","curedCount","style","transform","onClick","x","key","cityName","href","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8907015e.chunk.js","sourcesContent":["var map = {\n\t\"./anhui\": 210,\n\t\"./anhui.js\": 210,\n\t\"./aomen\": 211,\n\t\"./aomen.js\": 211,\n\t\"./beijing\": 212,\n\t\"./beijing.js\": 212,\n\t\"./chongqing\": 213,\n\t\"./chongqing.js\": 213,\n\t\"./fujian\": 214,\n\t\"./fujian.js\": 214,\n\t\"./gansu\": 215,\n\t\"./gansu.js\": 215,\n\t\"./guangdong\": 216,\n\t\"./guangdong.js\": 216,\n\t\"./guangxi\": 217,\n\t\"./guangxi.js\": 217,\n\t\"./guizhou\": 218,\n\t\"./guizhou.js\": 218,\n\t\"./hainan\": 219,\n\t\"./hainan.js\": 219,\n\t\"./hebei\": 220,\n\t\"./hebei.js\": 220,\n\t\"./heilongjiang\": 221,\n\t\"./heilongjiang.js\": 221,\n\t\"./henan\": 222,\n\t\"./henan.js\": 222,\n\t\"./hubei\": 223,\n\t\"./hubei.js\": 223,\n\t\"./hunan\": 224,\n\t\"./hunan.js\": 224,\n\t\"./jiangsu\": 225,\n\t\"./jiangsu.js\": 225,\n\t\"./jiangxi\": 226,\n\t\"./jiangxi.js\": 226,\n\t\"./jilin\": 227,\n\t\"./jilin.js\": 227,\n\t\"./liaoning\": 228,\n\t\"./liaoning.js\": 228,\n\t\"./neimenggu\": 229,\n\t\"./neimenggu.js\": 229,\n\t\"./ningxia\": 230,\n\t\"./ningxia.js\": 230,\n\t\"./qinghai\": 231,\n\t\"./qinghai.js\": 231,\n\t\"./shandong\": 232,\n\t\"./shandong.js\": 232,\n\t\"./shanghai\": 233,\n\t\"./shanghai.js\": 233,\n\t\"./shanxi\": 234,\n\t\"./shanxi.js\": 234,\n\t\"./shanxi1\": 235,\n\t\"./shanxi1.js\": 235,\n\t\"./sichuan\": 236,\n\t\"./sichuan.js\": 236,\n\t\"./taiwan\": 237,\n\t\"./taiwan.js\": 237,\n\t\"./tianjin\": 238,\n\t\"./tianjin.js\": 238,\n\t\"./xianggang\": 239,\n\t\"./xianggang.js\": 239,\n\t\"./xinjiang\": 240,\n\t\"./xinjiang.js\": 240,\n\t\"./xizang\": 241,\n\t\"./xizang.js\": 241,\n\t\"./yunnan\": 242,\n\t\"./yunnan.js\": 242,\n\t\"./zhejiang\": 243,\n\t\"./zhejiang.js\": 243\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 564;","import React from 'react'\nimport ReactEcharts from 'echarts-for-react'\n\nimport 'echarts/map/js/china.js'\n\nfunction Map ({ province, data }) {\n  if (province) {\n    require(`echarts/map/js/province/${province.pinyin}`)\n  }\n\n  const getOption = () => {\n    return {\n      visualMap: {\n        show: true,\n        type: 'piecewise',\n        min: 0,\n        max: 2000,\n        align: 'right',\n        top: province ? 0 : '40%',\n        right: 0,\n        left: province ? 0 : 'auto',\n        inRange: {\n          color: [\n            '#ffc0b1',\n            '#ff8c71',\n            '#ef1717',\n            '#9c0505'\n          ]\n        },\n        pieces: [\n          {min: 1000},\n          {min: 500, max: 999},\n          {min: 100, max: 499},\n          {min: 10, max: 99},\n          {min: 1, max: 9},\n        ],\n        // \"inverse\": false,\n        // \"splitNumber\": 5,\n        orient: province ? 'horizontal' : 'vertical',\n        showLabel: true,\n        itemWidth: 10,\n        itemHeight: 10,\n        textStyle: {\n          fontSize: 10\n        }\n        // \"borderWidth\": 0\n      },\n      series: [{\n        left: 'center',\n        type: 'map',\n        name: '确诊人数',\n        silent: true,\n        label: {\n          show: true,\n          position: 'inside',\n          // margin: 8,\n          fontSize: 6\n        },\n        mapType: province ? province.name : 'china',\n        data,\n        zoom: 1.2,\n        roam: false,\n        showLegendSymbol: false,\n        emphasis: {},\n        rippleEffect: {\n          show: true,\n          brushType: 'stroke',\n          scale: 2.5,\n          period: 4\n        }\n      }]\n    }\n  }\n  return (\n    <ReactEcharts option={getOption()} lazyUpdate={true} />\n  )\n}\n\nexport default Map\n","import React from 'react'\nimport './Tag.css'\n\nfunction Tag ({ children, number }) {\n  return (\n    <div className=\"tag\">\n      <div className=\"number\">\n        { number }\n      </div>\n      { children }\n    </div>\n  )\n}\n\nexport default Tag","import React, { useState } from 'react'\nimport keyBy from 'lodash.keyby'\nimport dayjs from 'dayjs'\n\nimport all from './data/overall'\nimport provinces from './data/area'\n\nimport Map from './Map'\nimport Tag from './Tag'\n\nimport './App.css'\n\nconst provincesByName = keyBy(provinces, 'pinyin')\n\nfunction App() {\n  const [province, setProvince] = useState(null)\n\n  const data = !province ? provinces.map(p => ({\n    name: p.provinceShortName,\n    value: p.confirmedCount\n  })) : provincesByName[province.pinyin].cities.map(city => ({\n    name: city.fullCityName,\n    value: city.confirmedCount\n  }))\n\n  const area = province ? provincesByName[province.pinyin].cities : provinces\n  const overall = province ? province : all\n\n  const renderArea = () => {\n    return area.map(x => (\n      <div className=\"province\" key={x.name || x.cityName} onClick={() => {\n        // 表示在省一级\n        if (x.name) {\n          setProvince(x)\n        }\n      }}>\n        <div className={`area ${x.name ? 'active' : ''}`}>\n          { x.name || x.cityName }\n        </div>\n        <div className=\"confirmed\">{ x.confirmedCount }</div>\n        <div className=\"death\">{ x.deadCount }</div>\n        <div className=\"cured\">{ x.curedCount }</div>\n      </div>\n    ))\n  }\n\n  return (\n    <div>\n      <header>\n        <h1>\n          <small>新型冠状病毒</small>\n          <br />\n          疫情实时动态 · 省市地图\n        </h1>\n        <i>By 山月 (数据来源于丁香园)</i>\n      </header>\n      <div className=\"card\">\n        <h2>\n          统计 { province ? `· ${province.name}` : false }\n          <span className=\"due\">\n            截止时间: {dayjs(all.modifyTime).format('YYYY-MM-DD HH:mm')}\n          </span>\n        </h2>\n        <div>\n          <div className=\"row\">\n            <Tag number={overall.confirmedCount}>\n              确诊\n            </Tag>\n            <Tag number={overall.suspectedCount || '-'}>\n              疑似\n            </Tag>\n            <Tag number={overall.deadCount}>\n              死亡\n            </Tag>\n            <Tag number={overall.curedCount}>\n              治愈\n            </Tag>\n          </div>\n        </div>\n      </div>\n      <div className=\"card\">\n        <h2>疫情地图 { province ? `· ${province.name}` : false }\n        {\n          province ? <small\n            style={{\n              color: '#f60',\n              position: 'absolute',\n              right: 0,\n              top: '50%',\n              transform: 'translateY(-50%)',\n            }}\n            onClick={() => setProvince(null)}\n          >返回全国</small> : null\n        }\n        </h2>\n        <Map province={province} data={data} />\n        <div className=\"province header\">\n          <div className=\"area\">地区</div>\n          <div className=\"confirmed\">确诊</div>\n          <div className=\"death\">死亡</div>\n          <div className=\"cured\">治愈</div>\n        </div>\n        { renderArea() }\n      </div>\n      <div className=\"card info\">\n        <h2>信息汇总</h2>\n        <li>\n          <a href=\"https://m.yangshipin.cn/static/2020/c0126.html\">疫情24小时 | 与疫情赛跑</a>\n        </li>\n        <li><a href=\"http://2019ncov.nosugartech.com/\">确诊患者同行查询工具</a></li>\n        <li><a href=\"https://news.qq.com/zt2020/page/feiyan.htm\">腾讯新闻新冠疫情实时动态</a></li>\n        <li><a href=\"https://3g.dxy.cn/newh5/view/pneumonia\">丁香园新冠疫情实时动态</a></li>\n        <li><a href=\"https://vp.fact.qq.com/home\">新型冠状病毒实时辟谣</a></li>\n        <li><a href=\"https://promo.guahao.com/topic/pneumonia\">微医抗击疫情实时救助</a></li>\n      </div>\n      <div className=\"fallback\">\n        <div>\n          代码仓库: <a href=\"https://github.com/JS-mark/2019-ncov/\">2019-ncov</a>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}